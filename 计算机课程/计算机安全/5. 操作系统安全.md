---
tags:
  - 计算机安全
---

---
## 1. 操作系统





---
## 2. 操作系统安全模型

- 安全模型定义进程（主体）对特定资源（对象）可以进行何种类型的访问。

- 使用这个模型时，首先必须确保主体在访问资源前通过了认证（Authentication）

- 当用户通过了认证后，依据访问控制策略（Access Control Policy）给予用户访问资源的授权

- 操作系统也需要对用户的认证（Authentication）、授权（Authorization）、访问（Access）等操作进行日志记录（Logging）和审计（Audit）。

![[Pasted image 20240528112857.png]]



引用监视器
- 是一种访问控制，用于协调主体对客体的访问。

![[Pasted image 20240528113219.png]]


安全内核：实现引用监视器概念的可信计算基的硬件、固件和软件的集合体，是系统中与安全性的实现有关的部分

- 可信计算基（TCB：Trusted Computing Base）：
	- 是一个计算机系统中的全部保护机制（包括硬件、固件和软件），他们结合起来为系统提供全局统一的访问控制策略。
	
	- 在某些系统中，TCB等同于安全内核，即TCB是操作系统的一部分，是整个系统安全性的基础。

- 安全内核的要求：
	- 必须对所有访问进行验证和授权；
	- 自身必须被保护不被修改；
	- 自身的安全性应是可证且安全的。

- 安全内核包括：
	- 引用验证机制
	- 授权机制
	 - 授权管理机制等

- 引用验证机制 3 个原则：
	- 必须具有自我保护能力；
	- 必须总是处于活跃状态；
	- 必须设计得足够小，以利于分析和测试，从而能够证明它的实现是正确的。

- 操作系统相关的主要安全机制包括：
	- 身份认证技术
	- 访问控制技术
	- 文件保护技术
	- 内存保护技术
	- 恶意程序防御技术




---
## 3. 文件保护

- 安全防护需求:
	- 存储在磁盘上的文件往往是攻击者的攻击对象
	- 对于多用户操作系统，操作系统必须提供文件保护机制：
		- 防止用户有意或无意的对系统文件、用户文件或其他数据文件进行非法存取或修改
		- 多用户操作系统中用户数越多，安全保护也更复杂
	- 文件具有易毁性（随机性、虚拟性、电磁性、可覆盖性），更需要保护


- 文件保护机制划分
	- 对文件本身的安全保护
		- 机密：访问控制，加密
		- 完整：加密，加壳，混淆，可信计算基
		- 可用：分片，备份  
	- 对文件所在文件系统的安全保护
		- 文件访问控制服务（如Windows和UNIX的ACL）
		- 对文件系统加密（如Windows NTFS提供的加密功能）
		- 对文件系统备份（如Windows和UNIX提供的备份与恢复功能）
	- 对文件存储载体的安全保护
		- 加密（如硬盘加密、加密U盘）
		- 冗余（如磁盘阵列、双机备份））
		- 抗毁
		- 防盗
		- 防电磁泄露


- 文件保护等级
	1. 一般性有无保护
		- 基于系统中用户都是可信的原则
		- 对特定文件或者机密文件进行口令访问保护
	
	2. 分组保护
		- 根据用户特征，将具有相同特征的用户归为一组，并为组定义对文件的存取权限
		- 每个用户属于一个组（不能属于多个组）
	3. 单独保护许可保护
		- 对单个文件进行存取权限保护（如访问控制）


---
## 4. 内存保护

- 内存保护需求
	- 操作系统基本上都支持多道程序技术
		- 很多程序同时共存于内存中，彼此互不影响，并有可能非法获取其他程序的数据
	- 堆栈访问技术
		- 地址增长与主存地址增长不同，有可能导致堆栈溢出
	- 区域保护技术
		- 操作系统与用户运行区域分开与保护，确保用户程序无法获取操作系统内核中的数据


- 操作系统在内存中的数据结构
	- PCB/DTB表格（存放内存数据信息）
	- 参数数据区
	- 中断矢量
	- 驱动程序
	- 共享程序
	- ……

- 可能的安全攻击
	- 内存映象窃取 (将内存中某一块映射到文件中)
	- 缓冲区内容截取 (获取机密信息)
	- 内存跟踪技术 (获取程序执行顺序)
	- 存储内容分析技术(获取机密信息)
	- 存储器锁定技术(获取机密信息)
	- 扩展存储器使用技术(获取机密信息)

- 内存保护方法
	- 硬件保护：如ECC，CPU运行模式，RAM分区
	- 操作系统内核保护：
		- 界址（Fence）
		- 界址寄存器（Bound Register）
		- 重定位
		- 特征位
		- 分段
		- 分页
		- 虚拟机制



---
## 5. UNIX操作系统安全

### 基础知识
UNIX操作系统有各种版本
- SunOS、Solaris、AIX、HP-UX
- 类UNIX操作系统： Linux、FreeBSD

- 早期的UNIX操作系统基于相互信任的环境
	- 并不采用强制访问控制机制
	- UNIX系统中的超级用户拥有超级权限，往往成为问题的根源

- 后期UNIX操作系统提供了不等级别的安全保护
	- 常规UNIX：C1级
	- OSF/1：B1级
	- USL的SVR4/ES：B2级


- UNIX文件系统的安全机制包括：
	- 硬件安全保护（如段保护等）
	- 用户及口令管理（身份认证）
		- 单个用户及口令管理
		- 组及口令管理
		- 超级用户及口令管理
	- 文件权限管理（访问控制）

![[Pasted image 20240531221401.png]]

- UNIX 常用日志文件
	- usr/adm  早期版本的UNIX
	- /var/adm  较新版本的UNIX
	- /var/log  用于Solaris,Linix,BSD
	- /etc  UNIX system V 早期版本

### UNIX 账号和口令管理

- 系统用户与口令
	- 每个用户拥有唯一的 16 位数字用户标识UID
	- UNIX口令文件 `/etc/passwd` 保存UID对应的口令,加密口令用“*”表示
		- `userName:x:UID:GID::HomeDir:Shell`
		- `userName:$algNum$salt$pawdCipher:modifyTime:...`
	- UID是用户在操作系统合法性及拥有相应权限的唯一凭证
	- UNIX 对权限的管理是依据 UID：具有相同 UID 的用户具有相同权限
	- UID为0的用户是系统的超级用户，拥有一切权限

- 用户与组
	- UNIX系统中的所有用户都必须属于某个组（group）
	- 同组的所有用户具有相同的权限
	- 用户与组之间的关系可以在文件/etc/group中查看，文件格式是：
		`group name:group password:GID:users`
	

### UNIX 权限管理

- 目录文件权限
	- 读取(r:read) 查找目录中的文件和子目录
	- 写(w:write) 从目录中删除和修改文件和子目录
	- 执行(x: execute) 进入相应的目录

- 文件初始权限管理
	- 文件和目录的初始权限是由创建者的用户掩码(umask)来确定的
	- umask 为9位二进制数,  umask 取反为初始权限.


粘滞位: 允许用户执行那些只有超级用户或者管理者才有读写权限的程序或者命令
- set-user-id（SUID）：如果设定了该权限，当文件被执行时，将**以文件的拥有者**的身份执行，而不是普通用户的身份；该权限对于不可执行的文件或目录无效。

- set-group-id（SGID）：与set-user-id相同，当文件被执行时，将**以文件的组**的身份来执行，而不是一般的用户身份。

- sticky（S）：如果对目录设置该权限，该目录可以被其他用户读写，但该目录下的文件和目录只有拥有者才有权删除或更名。

---
## 6. Windows 操作系统安全





















---
Author : orgaworl@outlook.com
Github : [orgaworl/Course-Notes: SDU CyberScience (github.com)](https://github.com/orgaworl/Course-Notes)
Create: `2024-05-28` `11:15`
