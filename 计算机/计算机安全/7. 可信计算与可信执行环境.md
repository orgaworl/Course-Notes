---
tags:
  - 安全
---
---
## 可信计算
可信计算是增强信息系统安全的一种行之有效的技术。它基于一个**硬件安全模块**， 建立可信的计算环境。**可信硬件安全模块**担任**信任根**的角色，通过密码技术、硬件访问控制技术和存储加密等技术保证系统和数据的信任状态

- TCSEC中提出**可信计算基TCB**
- **可信计算组织TCG**发布**可信平台模块TPM规范**


基本思想：
- 信任根。 信任根的可信性由物理安全、技术安全和管理安全共同确保。 
- 信任链。 从信任根开始到硬件平台、到操作系统、再到应用，一级认证一级，一级信任一级。从而把这种信任扩展到整个计算机系统。

可信计算机系统组成：
- 信任根
- 可信硬件平台
- 可信操作系统
- 可信应用
### 信任根

信任根是系统可信的基础和出发点
- 信任根的可信性由物理安全、技术安全和管理安全共同确保
- TCG认为一个可信计算平台必须包含三个可信根：
	- 可信度量根RTM（root of trust for measurement)
	- 可信存储根RTS（root of trust for storage）
	- 可信报告根RTR（root of trust for reporting

### 信任链



### 可信平台模块TPM

- 它由CPU、存储器、I/O、密码引擎、随机数产生器和嵌入式操作系统等部件组成。
- TPM本身就是一个小的计算机系统，一般是一种片上系统SOC（System on Chip）,而且它应当是物理可信、技术可信和管理可信的。
- 硬件的安全性比软件高，而且对硬件的安全管理比软件容易。


### 远程证明
实现网络环境的可信，将终端平台的可信传递到网络环境中，实现网络中所有用户之间的可信通信。

远程证明是一个综合完整性校验和身份认证的过程， 向验证者提供了一份可信的平台状态报告。
- 外部实体证明TPM真实性
- 外部实体证明平台拥有信任根
- 外部实体证明被度量对象的可信性

### 基于TPM的可信计算技术
- 多级信任，从信任根开始到硬件平台、到操作系统、再到应用
- 基于静态度量技术，难以确保应用程序在运行态的 安全，如内存安全，因此无法抵御内存攻击
- 可信基太大，度量完之后只能保证程序的静态文件完整性
- TPM作为外接设备，存储空间和计算能力受限，一般仅用来存储关键密钥和度量值等小数据


---
## 可信执行环境技术(TEE)
保证关键敏感应用的运行态安全

### TEE
TEE(Trusted Execution Environment) – 可信执行环境，目标是建立一个在内存中安全的执行环境，该环境中的计算可以保证不被常规操作系统干扰，因此称为”可信”
- Intel SGX
- Intel TDX
- ARM TrustZone
- ARM CCA
- AMD SEV
- Apple M1

#### ARM Trustzone
创建了一个隔离的安全世界, 可以用来为系统提供机密性和完整性, 为受信任的软件提供了系统范围的硬件隔离。

![[Pasted image 20240712162738.png|525]]

**处理器模型**
- 每个带 TrustZone 安全扩展的处理器核都有两个虚拟处理器核，每个处理器核分属不同的执行环境（安全和非安全）。
- 引入了一个特殊的机制-监控模式，负责不同执行环境间的切换。 
- 非安全虚拟处理器能仅仅访问非安全系统资源，但安全虚拟处理器能访问所有的资源
	![[Pasted image 20240712163107.png|350]]

**模式切换**：从非安全状态进入监控模式
- 执行 SMC （ Secure Monitor Call ）指令，SMC 指 令是一条特殊指令，它类似于软件中断指令（SWI ），通过它来调用监控器例程


**系统总线**：
- TrustZone 在系统总线上针对每一个信道的读写增加了一个额外的控制信号NS位，NS为0，则当前系统处于安全态。

**缺陷**
- TA在Secure world运行会带来一定的开销 
- TCB比较大，需要信任secure OS 
- Secure world内部没有进一步的安全控制 
- 安全世界和非安全世界的切换会带来较大 开销

---
#### Intel SGX
对x86指令集体系结构(ISA)的扩展








**云数据安全**
供应商角度：
- 云提供商不信任用户 
- 使用虚拟机将用户彼此和主机隔离开来
- VM只提供单向保护

用户角度：
- 用户信任他们的应用程序 
- 用户必须隐式地信任云提供商
- 现有的应用程序隐含地假定操作系统是可信的






---
## 基于TPM的可信计算与可信执行环境对比
TPM是硬件，可信执行环境偏软件(内存)


---
Author: **orgaworl**
Email: orgaworl@outlook.com
Github : [orgaworl/Course-Notes: SDU CyberScience (github.com)](https://github.com/orgaworl/Course-Notes)
Create: `2024-07-12` `15:52`
