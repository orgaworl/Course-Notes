---
tags:
---
---
## 1. 基础

**计算机病毒定义**
- 广义定义
	- 能够引起计算机故障 , 破坏计算机数据的程序都统称为计算机病毒。
- 狭义定义
	- 病毒程序通过修改 ( 操作 ) 而传染其他程序 , 即修改其他程序使之含有病毒自身的精确版本或可能演化的版本、变种或其他病毒繁衍体
- 中国定义
	- 计算机病毒 , 指编制或者在计算机程序中插入的破坏计算机功能或者毁坏数据， 影响计算机使用，并能自我复制的一组计算机指令或者程序代码。
- 三个基本观点
	- 计算机病毒是人为制造的具有破坏性的程序。
	- 计算机病毒的运行是非授权入侵。
	- 计算机病毒可以隐藏在可执行文件或数据文件中。

**恶意程序定义**
恶意软件是指在未明确提示用户或未经用户许可的情况下，在用户计算机或其他终端上安装运行，侵害用户合法权益的软件， 但不包含我国法律法规规定的计算机病毒。

**特征**
1. 强制安装： 指未明确提示用户或未经用户许可，在用户计算机或其他终端上安装软件的行为。
2. 难以卸载：指未提供通用的卸载方式，或在不受其他软件影响、人为破坏的情况下，卸载后仍然有活动程序的行为。
3. 浏览器劫持： 指未经用户许可， 修改用户浏览器或其他相关设置， 迫使用户访问特定网站或导致用户无法正常上网的行为。
4. 广告弹出：指未明确提示用户或未经用户许可，利用安装在用户计算机或 其他终端上的软件弹出广告的行为。
5. 恶意收集用户信息： 指未明确提示用户或未经用户许可，恶意收集用户信息的行为。
6. 恶意卸载： 指未明确提示用户、未经用户许可，或误导、欺骗用户卸载其他软件的行为。
7. 恶意捆绑： 指在软件中捆绑已被认定为恶意软件的行为。
8. 其他侵害用户软件安装、使用和卸载知情权、选择权的恶意行为。

## 历史发展

**历史**
- 1983年 第一个病毒
- 1986年 Pakistan  病毒，即 Brain
- 1988年 “蠕虫” 病毒
- CIH 病毒，又名“切尔诺贝利”
- 熊猫烧香
- 极虎病毒

**发展阶段**
- 第一阶段为原始病毒阶段, 1986 - 1989
- 第二阶段为混合型病毒阶段, 1989 - 1991
	- 第一次流行高峰
- 第三阶段为多态性病毒阶段, 1992 - 1995
	- 每次传染目标时，存入宿主程序中的病毒程序大部分是可变的
- 第四阶段为网络病毒阶段, 1990 年代中后期. 
	- 随着国际互联网的发展壮大，依赖互联网络传播的邮件病毒和宏病毒等大量涌现，病毒传播快、隐蔽性强、破坏性大。
	- 也就是从这一阶段开始，反病毒产业开始萌芽并逐步形成一个规模宏大的新兴产业。
	- 这一时期病毒的最大特点是利用 Internet 作为其主要传播途径，病毒传播快、隐蔽性强、破坏性大。
- 第五阶段为主动攻击型病毒
	- 典型代表为 2003 年出现的“冲击波”病毒
- 第六阶段为“ 手机病毒” 阶段。
	- 随着移动通讯网络的 发展以及移动终端-手机功能的不断强大，计算机病毒开始从传统的互联网络走进移动通讯网络世界。

---
## 分类

目前常见的病毒分类方法有 :
- 按传染方式分类: 分为引导型、可执行文件型、宏病毒和混合型病毒
	- 引导扇区病毒： 引导扇区病毒用它自己的数据来代管硬盘的原始引导扇区，并将病毒装入内存。
	- 文件感染病毒： 文件感染病毒将病毒代码加到可运行的程序文件中，在运行程序时即被激活。
	- 宏病毒：  利用宏语言编制的病毒，与前两种病毒存在很大的区别。宏病毒充分利用宏命令的强大系统调用功能，实现某些涉及系统底层操作的破坏。
	- 混合型病毒：混合型病毒是以上几种病毒的混合。混合型病毒的目的是为了综合利用以上 3 种病毒的传染渠道进行破坏。


- 按侵入的途径分类
	- 源码病毒：指病毒在源程序被编译前就被插入到源程序中。
	- 操作系统病毒：指病毒程序将自身加入或替代操作系统工作。
	- 入侵病毒：用自身代替正常程序中的部分模块或堆栈区。
	- 外壳病毒：将自身程序放在主程序的周围，一般不对原来的程序进行修改。


- 按破坏性分类
	计算机病毒的破坏情况可分两类， 其主要区别依据是一旦计算机遭病毒入侵后，不会对系统的数据造成无法恢复破坏的病毒病毒一般称为良性病毒。若受病毒攻击造成数据的丢失且不能恢复则称恶性病毒。
	- 良性计算机病毒
		良性病毒是指那些只是为了表现自身 , 并不彻底破坏系统和数据 , 但会大量占用 CPU 时间 , 增加系统开销 , 降低系统工作效率的一类计算机病毒。
	- 恶性计算机病毒
		恶性病毒就是指在其代码中包含有损伤和破坏计算机系统的操作，在其传染或发作时会对系统产生直接的破坏作用，造成的损失是无法挽回的。


- 按照传播媒介分类
	- 单机病毒单机病毒的载体是磁盘，常见的是病毒 从移动存储设备（软盘、优盘）传入硬盘， 感染系统，然后再传染其他移动存储设备统。
	- 网络病毒网络病毒的传播媒介不再是移动式载体,而是网络通道，这种病毒的传染能力更强，破坏力更大。


---
### 计算机病毒特征

1 ）计算机病毒的程序性 ( 寄生性 )
计算机病毒与其他合法程序一样，是一段可执行程序， 但它不是一个完整的程序，而是寄生在其他可执行程序上，因此计算机病毒具有正常程序的一切特性：可存储性、可执行性。它隐藏在合法的程序或数据中，当用户运行正常程序时，病毒伺机窃取到系统的控制权， 得以抢先运行，然而此时用户还认为在执行正常程序。

2 ）计算机病毒的传染性
传染性，指计算机病毒在一定条件下可以自我复制，能对其它文件或系统进行一系列非法操作，并使之成为一个新的传染源。这是病毒的最基本特征。

3 ） 计算机病毒的潜伏性
通常计算机病毒程序进入系统之后一般不会马上发作， 可以在几周或者几个月内甚至几年内隐藏在合法文件中， 对其他系统进行传染， 而不被人发现，潜伏性愈好，其在系统中的存在时间就会愈长， 病毒的传染范围就会愈大。

4 ）表现性和破坏性
指病毒在触发条件满足时，立即对计算机系统的文件、资源等运行进行干扰破坏；无论何种病毒程序一旦侵入系统都会对操作系统的运行造成不同程度的影响。病毒程序的副作用轻者降低系统工作效率， 重者导致系统崩溃、 数据丢失。病毒程序的表现性或破坏性体现了病毒设计者的真正意图。

5 ）可触发性
计算机病毒一般都有一个或者几个触发条件。满足其触 发条件或者激活病毒的传染机制 , 使之进行传染 ; 或者激活病毒的表现部分或破坏部分。触发的实质是一种条件的控制 , 病毒程序可以依据设计者的要求 , 在一定条件下实施攻击。这个条件可以是敲入特定字符 , 使用特定文件 ,  某个特定日期或特定时刻 , 或者是病毒内置的计数器达到 一定次数等。


---
### 工作原理

- 病毒的初始化（引导）模块
	1. 驻留内存病毒若要发挥其破坏作用，一般要驻留内存。为此就必须开辟所用内存空间或覆盖系统占用的部分内存空间。有的病毒不驻留内存。
	2. 窃取系统控制权。在病毒程序驻留内存后，必须使有关部分取代或扩充系统的原有功能，并窃取系统的控制权。此后病毒程序依据其设计思想，隐蔽自己，等待时机，在条件成熟时，再进行传染和破坏。
	3. 恢复系统功能病毒为隐蔽自己，驻留内存后还要恢复系统，使系统不会死机，只有这样才能等待时机成熟后，进行感染和破坏的目的。

- 传染模块
- 触发模块
- 破坏（表现）模块

过程
- 寄生
	- 寄生位置：
		- 引导区
		- 可执行文件
	- 寄生手段：
		- 替代法（寄生在引导区中的病毒常用该法）
		- 链接法（寄生在文件中的病毒常用该法）
- 引导
	- 驻留内存
	- 窃取系统控制权
	- 恢复系统功能
- 传染
	- 传染条件
		- 被动传染（静态时）
			- 用户在进行拷贝磁盘或文件时，把一个病毒由一个载体复制到另一个载体上。或者是通过网络上的信息传递，把一个病毒程序从一方传递到另一方。这种传染方式叫做计算机病毒的被动传染。
		- 主动传染（动态时）
			以计算机系统的运行以及病毒程序处于激活状态为先决条件.在病毒处于激活的状态下，只要传染条件满足，病毒程序能主动地把病毒自身传染给另一个载体或另一个系统。这种传染方式叫做计算机病毒的主动传染。
	- 传染过程
		系统（程序）运行→各种模块进入内存→按多种传染方式传染.
	-  传染方式
		- 立即传染，即病毒在被执行的瞬间， 抢在宿主程序开始执行前，立即感染磁盘上的其他程序，然后再执行宿主程序。
		- 驻留内存并伺机传染，内存中的病毒检查当前系统环境，在执行一个程序、浏览一个网页时传染磁盘上的程序， 驻留在系统内存中的病毒程序在宿主程序运行结束后，仍可活动，直至关闭计算机。
- 触发
	- 触发条件
		计算机病毒在传染和发作之前，往往要判断某些特定条件是否满足，满足则传染或发作，否则不传染或不发作或只传染不发作，这个条件就是计算机病毒的触发条件。
	- 触发模块的目的是调节病毒的攻击性和潜伏性之间的平衡




---

---


